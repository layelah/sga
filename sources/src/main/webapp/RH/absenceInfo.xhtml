<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                template="/resources/template/principalRH.xhtml"
                xmlns:infina="http://xmlns.jcp.org/jsf/composite/infina"    
                xmlns:b="http://bootsfaces.net/ui">

    <ui:define name="title">Détails demande</ui:define>
    <ui:define name="content">
        <b:container>
            <infina:msgSup bean="#{demPermisAbsence}" msg_nom_objet="le congé" />
            <b:panel>
                <b:panel title="Demande n° #{demPermisAbsence.obj.id} du #{demPermisAbsence.obj.dateDemande}" class="panel-body panel-title" id="text" style="">
                    <b:row>
                        <b:column span="6">
                            <infina:infoString titre="Agent" valeur="#{demPermisAbsence.obj.absence.agent.nomComplet}"/>
                            <infina:infoString titre="Service" valeur="#{demPermisAbsence.obj.absence.agent.service.lib}"/>
                            <infina:infoString titre="Type d'absence" valeur="#{demPermisAbsence.obj.absence.typeAbsence.lib}"/>
                            <infina:infoString titre="Motif" valeur="#{demPermisAbsence.obj.absence.motif}"/>
                            <infina:infoString titre="Etat demande" valeur="#{demPermisAbsence.obj.etat.lib}"/>
                        </b:column>
                        <b:column span="6">
                            <infina:infoDate titre="Date de début des congés" valeur="#{demPermisAbsence.obj.absence.dateDebutAbsence}"/>
                            <infina:infoDate titre="Date de fin des congés (inclus)" valeur="#{demPermisAbsence.obj.absence.dateDebutAbsence}"/>
                            <infina:infoNumerique titre="Durée d'absence" valeur="#{demPermisAbsence.obj.absence.nbJourAbsence}"/>
                            <infina:infoNumerique titre="Nb jour déductible" valeur="#{demPermisAbsence.obj.absence.nbJourDeductible}"/>
                        </b:column>
                       
                    </b:row>
                    <b:panel title="Niveau de Validation" class="panel-body panel-title" >
                        <b:dataTable value="#{demPermisAbsence.listDesValidations}" var="item"> 
                            <b:column>
                                <f:facet name="header">Date validation</f:facet>
                                <infina:colDate valeur="#{item.dateValidation}" />
                            </b:column>
                            <b:dataTableColumn label="Note" value="#{item.note}"/> 
                            <b:dataTableColumn label="Validateur" value="#{item.validateur.agent.nomComplet}"/>
                            <b:dataTableColumn label="Etat validation" value="#{item.etat.lib}"/>
                        </b:dataTable>
                    </b:panel>
                </b:panel>
                <h:button styleClass="cancel-btn" value="#{msg.BNT_FERMER}" outcome="/RH/fichePersonnelle.xhtml" style="width: 150px;height: 5%;margin: 2px;background: #ac0000;color: #ffffff;font-weight: bold;margin-left: 40%"/>
            </b:panel>
        </b:container>
    </ui:define>
</ui:composition>

